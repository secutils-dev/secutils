# Secutils.dev environment configuration
# Copy this file to .env and fill in the values.

# Log level for the Secutils API.
RUST_LOG=info

# Database connection string (used by sqlx for migrations and compile-time checks).
DATABASE_URL=postgres://postgres@localhost/secutils

# Use cached query metadata from .sqlx/ instead of connecting to the database at
# compile time. This lets you compile without running migrations first. The app
# still applies migrations automatically on startup.
# Set to `false` if you want live query validation during development (requires
# running `sqlx migrate run` first).
SQLX_OFFLINE=true

# Path to the TOML configuration file.
SECUTILS_CONFIG=${PWD}/secutils.toml

# Secret key used to sign and verify JSON Web Tokens for API access.
# Generate with: openssl rand -hex 16
SECUTILS_SECURITY__JWT_SECRET=<your-jwt-secret>

# SMTP configuration (optional, for sending emails).
# SECUTILS_SMTP__ADDRESS=smtp.example.com
# SECUTILS_SMTP__USERNAME=user@example.com
# SECUTILS_SMTP__PASSWORD=secret
# SECUTILS_SMTP__CATCH_ALL__RECIPIENT=dev@example.com

# Enable verbose HTTP client logging (optional).
# SECUTILS_HTTP__CLIENT__VERBOSE=true

# JWT tokens for Kratos webhook authentication.
# Generate with: cargo run -p secutils-jwt-tools -- generate --secret <your-jwt-secret> --sub @kratos --exp 1year
SELFSERVICE_FLOWS_REGISTRATION_AFTER_PASSWORD_HOOKS_0_CONFIG_AUTH_CONFIG_VALUE="Bearer <generated-kratos-jwt>"
SELFSERVICE_FLOWS_REGISTRATION_AFTER_WEBAUTHN_HOOKS_0_CONFIG_AUTH_CONFIG_VALUE="Bearer <generated-kratos-jwt>"
COURIER_HTTP_REQUEST_CONFIG_AUTH_CONFIG_VALUE="Bearer <generated-kratos-jwt>"
